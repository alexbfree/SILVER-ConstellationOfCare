<mat-card>
  <mat-card-header>
    <mat-card-title [className]="'familyFormTitle'">
      <h3 *ngIf="!consented">{{familyMember.getFullName()}} is <span class='consent-status not-consented'>not currently consented</span> for case {{caseID}}.
      </h3>
      <h3 *ngIf="consented">{{familyMember.getFullName()}} is currently <span class='consent-status consented'>consented</span> for case {{caseID}}.</h3>
    </mat-card-title>
    <mat-card-subtitle *ngIf="otherConsentedCaseIDs.length>1">
      <h4>Warning: {{familyMember.getFullName()}} has already been consented in the following cases: {{otherConsentedCaseIDs.join(", ")}}.</h4>
    </mat-card-subtitle>
    <mat-card-subtitle *ngIf="otherConsentedCaseIDs.length==1">
      <h4>Warning: {{familyMember.getFullName()}} has <span class='consent-status already-consented'>already been consented</span> in case {{otherConsentedCaseIDs[0]}}.</h4>
    </mat-card-subtitle>
  </mat-card-header>
  <mat-card-content>
    <mat-divider [inset]="true"></mat-divider>
    <h3>Consent History for {{familyMember.getFullName()}} [{{familyMember.nhsNumber}}]</h3>
    <div *ngIf="!history">
      <h4>Consent history is not available.</h4>
    </div>
    <div *ngIf="history">
      <pre>{{history | json}}</pre>
    </div>
  </mat-card-content>
  <mat-card-actions>
    <div [style.textAlign]="'center'">
      <button mat-stroked-button color="primary" (click)="closePanel()"><span>Back to Family</span></button>
    </div>
  </mat-card-actions>
</mat-card>
