<mat-card *ngIf="information || loading">
    <mat-card-title *ngIf="information">
        Medical Information Gateway: {{information.nhsNumber}}
    </mat-card-title>

    <mat-card-title *ngIf="! information">Medical Information Gateway</mat-card-title>

    <mat-card-content *ngIf="loading">
        <mat-progress-bar mode="indeterminate"></mat-progress-bar>
    </mat-card-content>

    <mat-card-content *ngIf="information && (information.status === 'Success')">
        <span>Format: </span>
        <mat-radio-group [(ngModel)]="format">
            <mat-radio-button value="friendlier"> Friendlier </mat-radio-button>
            <span>&nbsp;</span>
            <mat-radio-button value="raw"> Raw </mat-radio-button>
            <span>&nbsp;</span>
            <mat-radio-button value="report"> Report </mat-radio-button>
        </mat-radio-group>

        <mat-tab-group *ngIf="format == 'raw' || format == 'friendlier'">
            <mat-tab label="Admin Domain">
                <cnstll-mig-admindomain [format]="format" [information]="information"></cnstll-mig-admindomain>
            </mat-tab>
            <mat-tab label="Health Domain">
                <cnstll-mig-healthdomain [format]="format" [information]="information"></cnstll-mig-healthdomain>
            </mat-tab>
        </mat-tab-group>

      <mat-tab-group *ngIf="format == 'report'">
        <mat-tab label="Constellation of Care">
          <cnstll-constellation [information]="information"></cnstll-constellation>
        </mat-tab>
        <mat-tab label="Problems Timeline">
          <cnstll-problems-timeline [events]="information.events"></cnstll-problems-timeline>
        </mat-tab>
      </mat-tab-group>
    </mat-card-content>

    <mat-card-content *ngIf="information && (information.status === 'No Consent')">
        <h3>No Consent has been given.</h3>
    </mat-card-content>

    <mat-card-content *ngIf="information && (information.status === 'Failed')">
        <h3>The request for information has failed.</h3>
    </mat-card-content>
</mat-card>
